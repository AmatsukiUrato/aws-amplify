---
title: 'Text vs Char vs Varchar on MySQL'
description: 'mysqlにて、文字列を保存できる型が数個あるので、何が違うのかを調べてみました。'
date: 2020-06-07T00:04:05+09:00
tags: [mysql, database]
archives: '2020'
author: matsu4ki
draft: true
toc: false
---

## はじめに

MySQL に文字を保存しようとしたときに、今までは

| 実施内容           | 型      |
| ------------------ | ------- |
| 文字数を制限したい | varchar |
| 他                 | text    |

ぐらいの認識しかなかったので、調べてみた。

## TL;DR

## CHAR と VARCHAR

|                                    |                                               CHAR                                               |                       VARCHAR                       |
| :--------------------------------: | :----------------------------------------------------------------------------------------------: | :-------------------------------------------------: |
|             文字列指定             |                                              0-255                                               | 0-65535<br>(使用される文字セットで変わる可能性あり) |
|                長さ                | 必ず指定した長さになる<br>足りない場合は右側スペースで埋める<br>取り出し時にスペースは削除される |                                                     |
| 指定した長さを<br>オーバーした場合 |                                                                                                  |                          4                          |

格納および取得方法が違う

文字列指定ができる 0-255

### Char

char 型は指定した数に固定される
スペースでうめられる →PAD_CHAR_TO_FULL_LENGTH SQL モードが有効になっていない限りは、末尾のスペースが削除される

### Varchar

VARCHAR カラム内の値は可変長の文字列です。長さは 0 から 65,535 までの値で指定できます。VARCHAR カラムの有効な最大長は、最大行サイズ (65,535 バイト、すべてのカラムで共有される) と使用される文字セットによって決まります。セクション D.10.4「テーブルカラム数と行サイズの制限」を参照してください。
末尾スペースは削除される
厳密な SQL モードではエラーにすることも可能

## さいごに

## 参考

- [MySQL :: MySQL 5.6 リファレンスマニュアル :: 11.4 文字列型](https://dev.mysql.com/doc/refman/5.6/ja/string-types.html)
- [mysql-固定サイズのフィールドで CHAR と VARCHAR を使用すると、パフォーマンスにどのような影響がありますか？ -データベース管理者スタック交換](https://dba.stackexchange.com/questions/2640/what-is-the-performance-impact-of-using-char-vs-varchar-on-a-fixed-size-field/2643#2643)
